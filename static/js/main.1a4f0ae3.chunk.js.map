{"version":3,"sources":["logo.svg","pathfinder/pathfinder.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","DUMMY_OBSTACLES","Pathfinder","props","handleMouseMove","bind","handleClick","state","hexSize","hexOrigin","x","y","currentHex","q","r","s","obstacles","playerPosition","cameFrom","hexPath","path","hexParametres","this","getHexParametres","setState","canvasSize","canvasWidth","canvasHeight","canvasHex","width","height","canvasView","canvasInteraction","getCanvasPosition","drawHex","Point","drawHexes","drawObstacles","nextProps","nextState","getContext","clearRect","drawPath","ctx","l","JSON","parse","hexToPixel","Hex","from","fromCoord","drawArrow","center","i","angle_deg","angle_rad","Math","PI","cos","sin","canvasID","lineWidth","lineColor","fillColor","start","getHexCornerCoord","end","fillHex","drawLine","beginPath","moveTo","strokeStyle","lineTo","stroke","closePath","hexWidth","hexHeight","vertDist","horizDist","hexPathMap","qLeftSide","round","qRightSide","rTopSide","rBottomSide","p","bottomH","stringify","includes","push","n","topH","concat","breadthFirstSearchCallback","breadthFirstSearch","h","sqrt","fillText","e","canvasPosition","left","top","right","bottom","offsetX","pageX","offsetY","pageY","cubeRound","pixelToHex","getDistanceLine","getPath","console","log","currentDistanceLine","rect","getBoundingClientRect","size","origin","cube","rx","ry","rz","x_diff","abs","y_diff","z_diff","direction","cubeDirections","a","b","hexA","hexB","cubeAdd","getCubeNeighbor","cubeSubstract","t","linearInt","dist","cubeDistance","arr","cubeLinearInt","c0","c1","c2","c3","c4","c5","fillStyle","globalAlpha","fill","map","frontier","length","current","shift","getNeighbors","hasOwnProperty","Object","assign","undefined","fromx","fromy","tox","toy","angle","atan2","className","ref","canvasCoordinates","onMouseMove","onClick","React","Component","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"wJAAAA,EAAOC,QAAU,IAA0B,kC,mKCIrCC,G,MAAkB,CACxB,wBAAyB,wBAAyB,uBAClD,uBAAwB,uBAAwB,uBAC/C,uBAAwB,uBAAwB,wBAC/C,wBAAyB,uBAAwB,uBAChD,uBAAwB,uBAAwB,uBAChD,uBAAwB,uBAAwB,uBAChD,uBAAwB,uBAAwB,uBAChD,uBAAwB,yBAA0B,yBACjD,yBAA0B,yBAA0B,yBACnD,yBAA0B,yBAA0B,yBACnD,yBAA0B,yBAA0B,yBACnD,yBAA0B,0BAA2B,0BACpD,yBAA0B,yBAA0B,yBACnD,wBAAyB,wBAAyB,wBAClD,wBAAyB,wBAAyB,wBAClD,wBAAyB,wBAAyB,wBAClD,wBAAyB,wBAAyB,wBACjD,uBAAwB,wBAAyB,wBACjD,wBAAyB,wBAAyB,wBACjD,wBAAyB,wBAAyB,wBACjD,uBAAwB,uBAAwB,uBAC/C,wBAAyB,wBAAyB,uBACjD,uBAAwB,uBAAwB,uBAC/C,uBAAwB,uBAAwB,uBAChD,wBAAyB,wBAAyB,wBACjD,yBAA0B,wBAAyB,wBAClD,wBAAyB,wBAAyB,wBAClD,wBAAyB,wBAAyB,wBACjD,wBAAyB,wBAAyB,wBACjD,wBAAyB,uBAAwB,wBACjD,wBAAyB,wBAAyB,yBACjD,yBAA0B,0BAA2B,0BACpD,yBAA0B,yBAA0B,yBACpD,yBAA0B,yBAA0B,yBACnD,yBAA0B,yBAA0B,yBACnD,yBAA0B,yBAA0B,yBACnD,uBAAwB,uBAAwB,uBAC/C,uBAAwB,uBAAwB,yBAC/C,yBAA0B,yBAA0B,yBACnD,yBAA0B,yBAA0B,wBACnD,wBAAyB,uBAAwB,uBAChD,wBAAyB,wBAAyB,wBACjD,yBAA0B,uBAAwB,wBACjD,wBAAyB,0BACnCC,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,gBAAkB,EAAKA,gBAAgBC,KAArB,gBACvB,EAAKC,YAAc,EAAKA,YAAYD,KAAjB,gBACnB,EAAKE,MAAQ,CACXC,QAAS,GACTC,UAAW,CAAEC,EAAG,IAAKC,EAAG,KACxBC,WAAY,CAAEC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGL,EAAG,EAAGC,EAAG,GACzCK,UAAWf,EACXgB,eAAgB,CAAEJ,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCG,SAAW,GACXC,QAAU,GACVC,KAAO,IAbQ,E,iEAmBjB,IAAIC,EAAgBC,KAAKC,mBACzBD,KAAKE,SAAS,CACZC,WAAY,CAAEC,YAAa,IAAKC,aAAc,KAC9CN,cAAeA,M,0CAKC,IAAD,EACqBC,KAAKf,MAAMkB,WAAzCC,EADS,EACTA,YAAaC,EADJ,EACIA,aACrBL,KAAKM,UAAUC,MAAQH,EACvBJ,KAAKM,UAAUE,OAASH,EACxBL,KAAKS,WAAWF,MAAQH,EACxBJ,KAAKS,WAAWD,OAASH,EACzBL,KAAKU,kBAAkBH,MAAQH,EAC/BJ,KAAKU,kBAAkBF,OAASH,EAChCL,KAAKW,kBAAkBX,KAAKU,mBAC5BV,KAAKY,QAAQZ,KAAKU,kBAAmBV,KAAKa,MAAMb,KAAKf,MAAMU,eAAeP,EACtEY,KAAKf,MAAMU,eAAeN,GAAG,EAAE,QAAQ,OAAO,IAClDW,KAAKc,YACLd,KAAKe,kB,4CAGeC,EAAWC,GAC/B,GAAGA,EAAU3B,aAAeU,KAAKf,MAAMK,WAAY,CAAC,IAAD,EACvB2B,EAAU3B,WADa,KACzCC,EADyC,EACtCC,EADsC,EACnCC,EADmC,EAChCL,EADgC,EAC7BC,EACkBW,KAAKf,MAAMkB,YAAzCC,EAFyC,EAEzCA,YAAaC,EAF4B,EAE5BA,aAIrB,OAHYL,KAAKU,kBAAkBQ,WAAW,MAC1CC,UAAU,EAAG,EAAGf,EAAaC,GACjCL,KAAKoB,YACE,EAET,GAAGH,EAAUrB,WAAaI,KAAKf,MAAMW,SAAU,CAAC,IAAD,EACLI,KAAKf,MAAMkB,WAAzCC,EADmC,EACnCA,YAAaC,EADsB,EACtBA,aACfgB,EAAMrB,KAAKU,kBAAkBQ,WAAW,MAE9C,IAAI,IAAII,KADRD,EAAIF,UAAU,EAAG,EAAGf,EAAaC,GACpBY,EAAUrB,SAAS,CAAC,IAAD,EACV2B,KAAKC,MAAMF,GAAtB/B,EADqB,EACrBA,EAAGC,EADkB,EAClBA,EADkB,KACfC,EACCO,KAAKyB,WAAWzB,KAAK0B,IAAInC,EAAEC,KAAlCJ,EAFqB,EAErBA,EAAEC,EAFmB,EAEnBA,EACTW,KAAKY,QAAQZ,KAAKS,WAAYT,KAAKa,MAAMzB,EAAEC,GAAG,EAAE,QAAQ,OAAO,IAC/D,IAAIsC,EAAOJ,KAAKC,MAAMP,EAAUrB,SAAS0B,IACrCM,EAAY5B,KAAKyB,WAAWzB,KAAK0B,IAAIC,EAAKpC,EAAEoC,EAAKnC,IACrDQ,KAAK6B,UAAUD,EAAUxC,EAAEwC,EAAUvC,EAAED,EAAEC,GAE7C,OAAO,EAEX,OAAO,I,wCAGSyC,EAAQC,GACzB,IAAIC,EAAY,GAAKD,EAAK,GACtBE,EAAYC,KAAKC,GAAK,IAAMH,EAC5B5C,EAAI0C,EAAO1C,EAAIY,KAAKf,MAAMC,QAAUgD,KAAKE,IAAIH,GAC7C5C,EAAIyC,EAAOzC,EAAIW,KAAKf,MAAMC,QAAUgD,KAAKG,IAAIJ,GACjD,OAAOjC,KAAKa,MAAMzB,EAAGC,K,4BAGhBD,EAAGC,GACR,MAAO,CAACD,EAAGA,EAAGC,EAAGA,K,8BAGXiD,EAAUR,EAAQS,EAAWC,EAAWC,GAC/C,IAAK,IAAIV,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,IAAIW,EAAQ1C,KAAK2C,kBAAkBb,EAAQC,GACvCa,EAAM5C,KAAK2C,kBAAkBb,EAAQC,EAAI,GAC7C/B,KAAK6C,QAAQP,EAAUR,EAAQW,GAC/BzC,KAAK8C,SAASR,EAAUI,EAAOE,EAAKL,EAAWC,M,+BAKzCF,EAAUI,EAAOE,EAAKL,EAAWC,GACtC,IAAMnB,EAAMiB,EAASpB,WAAW,MAChCG,EAAI0B,YACJ1B,EAAI2B,OAAON,EAAMtD,EAAGsD,EAAMrD,GAC1BgC,EAAI4B,YAAcT,EAClBnB,EAAIkB,UAAYA,EAChBlB,EAAI6B,OAAON,EAAIxD,EAAGwD,EAAIvD,GACtBgC,EAAI8B,SACJ9B,EAAI+B,c,kCAcJ,IAXW,IAAD,SAC4BpD,KAAKf,MAAMkB,WAAzCC,EADE,EACFA,YAAaC,EADX,EACWA,aADX,EAE2CL,KAAKf,MAAMc,cAAxDsD,EAFE,EAEFA,SAAUC,EAFR,EAEQA,UACZnE,GAHI,EAEmBoE,SAFnB,EAE6BC,UACrBxD,KAAKf,MAAME,WACzBsE,EAAa,GACbC,EAA+C,EAAnCxB,KAAKyB,MAAMxE,EAAUC,EAAEiE,GACnCO,EAAa1B,KAAKyB,MAAMvD,EAAcjB,EAAUC,GAAKiE,EAAW,EAChEQ,EAAW3B,KAAKyB,MAAMxE,EAAUE,GAAGiE,EAAU,IAC7CQ,EAAc5B,KAAKyB,OAAOtD,EAAelB,EAAUE,IAAIiE,EAAU,IAEjES,EAAI,EACAvE,EAAI,EAAGA,GAAKsE,EAAatE,IAAK,CACjCA,EAAI,GAAK,GAAW,IAANA,GACfuE,IAEF,IAAI,IAAIxE,GAAKmE,EAAWnE,GAAKqE,EAAYrE,IAAK,CAAC,IAAD,EAC3BS,KAAKyB,WAAWzB,KAAK0B,IAAInC,EAAEwE,EAAGvE,IAAvCJ,EADoC,EACpCA,EAAGC,EADiC,EACjCA,EACX,GAAID,EAAIiE,EAAS,GAAKjE,EAAIgB,EAAciD,EAAS,GAAOhE,EAAIiE,EAAU,GAAKjE,EAAIgB,EAAeiD,EAAU,EAAI,CAC1GtD,KAAKY,QAAQZ,KAAKM,UAAWN,KAAKa,MAAMzB,EAAEC,GAAI,EAAG,QAAS,QAEzD,IAAI2E,EAAUzC,KAAK0C,UAAUjE,KAAK0B,IAAInC,EAAEwE,EAAEvE,IAAID,EAAEwE,GAAGvE,IAC/CQ,KAAKf,MAAMS,UAAUwE,SAASF,IAC9BP,EAAWU,KAAKH,KAM3B,IADA,IAAII,EAAI,EACA5E,GAAK,EAAGA,IAAMqE,EAAUrE,IAAK,CAC/BA,EAAE,IAAM,GACT4E,IAEF,IAAI,IAAI7E,GAAKmE,EAAWnE,GAAKqE,EAAYrE,IAAK,CAAC,IAAD,EAC3BS,KAAKyB,WAAWzB,KAAK0B,IAAInC,EAAE6E,EAAG5E,IAAvCJ,EADoC,EACpCA,EAAGC,EADiC,EACjCA,EACX,GAAID,EAAIiE,EAAS,GAAKjE,EAAIgB,EAAciD,EAAS,GAAOhE,EAAIiE,EAAU,GAAKjE,EAAIgB,EAAeiD,EAAU,EAAI,CAC1GtD,KAAKY,QAAQZ,KAAKM,UAAWN,KAAKa,MAAMzB,EAAEC,GAAI,EAAG,QAAS,QAE1D,IAAIgF,EAAO9C,KAAK0C,UAAUjE,KAAK0B,IAAInC,EAAE6E,EAAE5E,IAAID,EAAE6E,GAAG5E,IAC5CQ,KAAKf,MAAMS,UAAUwE,SAASG,IAC9BZ,EAAWU,KAAKE,KAK3BZ,EAAa,GAAGa,OAAOb,GACvBzD,KAAKE,SACD,CAACuD,WAAYA,GACbzD,KAAKuE,2BAA6B,kBAAM,EAAKC,mBAAmB,EAAKvF,MAAMU,oB,iCAItE8E,GACT,IAAItF,EAAYa,KAAKf,MAAME,UACvBC,EAAIY,KAAKf,MAAMC,QAAUgD,KAAKwC,KAAK,IAAMD,EAAElF,EAAIkF,EAAEjF,EAAE,GAAKL,EAAUC,EAClEC,EAAyB,EAArBW,KAAKf,MAAMC,QAAY,EAAIuF,EAAEjF,EAAIL,EAAUE,EACnD,OAAOW,KAAKa,MAAMzB,EAAGC,K,0BAGtBE,EAAGC,EAAGC,GACR,MAAO,CAAEF,EAAGA,EAAGC,EAAGA,EAAGC,EAAGA,K,yCAGP6C,EAAUR,EAAQ2C,GACnC,IAAMpD,EAAMiB,EAASpB,WAAW,MAChCG,EAAIsD,SAASF,EAAElF,EAAGuC,EAAO1C,EAAE,EAAG0C,EAAOzC,GACrCgC,EAAIsD,SAASF,EAAEjF,EAAGsC,EAAO1C,EAAE,EAAG0C,EAAOzC,EAAE,IACvCgC,EAAIsD,SAASF,EAAEhF,EAAGqC,EAAO1C,EAAE,GAAI0C,EAAOzC,K,yCAKtC,IAAIiE,EAAiC,EAArBtD,KAAKf,MAAMC,QACvBmE,EAAWnB,KAAKwC,KAAK,GAAG,EAAIpB,EAGhC,MAAO,CAAED,WAAUC,YAAWC,SAFH,EAAZD,EAAc,EAEWE,UADxBH,K,sCAIFuB,GAAI,IAAD,EACoB5E,KAAKf,MAAM4F,eAAxCC,EADS,EACTA,KAAaC,GADJ,EACHC,MADG,EACID,KADJ,KACSE,OACYjF,KAAKf,MAAMkB,YAAzCC,EAFS,EAETA,YAAaC,EAFJ,EAEIA,aAFJ,EAGoCL,KAAKf,MAAMc,cAAxDsD,EAHS,EAGTA,SAAUC,EAHD,EAGCA,UACd4B,GAJa,EAGY3B,SAHZ,EAGsBC,UACzBoB,EAAEO,MAAQL,GACpBM,EAAUR,EAAES,MAAQN,EALP,EAMG/E,KAAKsF,UAAUtF,KAAKuF,WAAWvF,KAAKa,MAAMqE,EAASE,KAA/D7F,EANS,EAMTA,EAAGC,EANM,EAMNA,EAAGC,EANG,EAMHA,EANG,EAOAO,KAAKyB,WAAWzB,KAAK0B,IAAInC,EAAGC,EAAGC,IAAxCL,EAPS,EAOTA,EAAGC,EAPM,EAONA,EACPM,EAAiBK,KAAKf,MAAMU,eAChCK,KAAKwF,gBAAgBxF,KAAK0B,IAAI,EAAE,EAAE,GAAI1B,KAAK0B,IAAInC,EAAEC,EAAEC,IACnDO,KAAKyF,QAAQzF,KAAK0B,IAAI/B,EAAeJ,EAAGI,EAAeH,EAAGG,EAAeF,GAAIO,KAAK0B,IAAInC,EAAEC,EAAEC,IAC1FiG,QAAQC,IAAI3F,KAAKf,MAAM2G,qBACnBxG,EAAIiE,EAAW,GAAKjE,EAAIgB,EAAciD,EAAW,GAAOhE,EAAIiE,EAAY,GAAKjE,EAAIgB,EAAeiD,EAAU,GAC5GtD,KAAKE,SAAS,CACZZ,WAAY,CAAEC,IAAGC,IAAGC,IAAGL,IAAGC,S,wCAOdiD,GAChB,IAAIuD,EAAOvD,EAASwD,wBACpB9F,KAAKE,SAAS,CACZ2E,eAAgB,CAAEC,KAAMe,EAAKf,KAAME,MAAOa,EAAKb,MAAOD,IAAKc,EAAKd,IAAKE,OAAQY,EAAKZ,Y,iCAI3ElB,GACT,IAAIgC,EAAO/F,KAAKf,MAAMC,QAClB8G,EAAShG,KAAKf,MAAME,UACpBI,IAAMwE,EAAE3E,EAAI4G,EAAO5G,GAAK8C,KAAKwC,KAAK,GAAG,GAAKX,EAAE1E,EAAI2G,EAAO3G,GAAK,GAAK0G,EACjEvG,EAAuB,GAAlBuE,EAAE1E,EAAI2G,EAAO3G,GAAO,EAAI0G,EACjC,OAAO/F,KAAK0B,IAAInC,EAAGC,GAAKD,EAAIC,K,gCAGpByG,GACR,IAAIC,EAAKhE,KAAKyB,MAAMsC,EAAK1G,GACrB4G,EAAKjE,KAAKyB,MAAMsC,EAAKzG,GACrB4G,EAAKlE,KAAKyB,MAAMsC,EAAKxG,GAErB4G,EAASnE,KAAKoE,IAAIJ,EAAKD,EAAK1G,GAC5BgH,EAASrE,KAAKoE,IAAIH,EAAKF,EAAKzG,GAC5BgH,EAAStE,KAAKoE,IAAIF,EAAKH,EAAKxG,GAWhC,OATG4G,EAASE,GAAUF,EAASG,EAC7BN,GAAMC,EAAGC,EAEHG,EAASC,EACfL,GAAMD,EAAGE,EAGTA,GAAMF,EAAGC,EAEJnG,KAAK0B,IAAIwE,EAAIC,EAAIC,K,qCAGXK,GACb,IAAMC,EAAiB,CAAC1G,KAAK0B,IAAI,EAAG,GAAI,GAAI1B,KAAK0B,IAAI,GAAI,EAAG,GAAI1B,KAAK0B,IAAI,GAAI,EAAG,GAAI1B,KAAK0B,KAAK,EAAG,EAAG,GAAI1B,KAAK0B,KAAK,EAAG,EAAG,GACxH1B,KAAK0B,IAAI,EAAG,GAAI,IAChB,OAAOgF,EAAeD,K,8BAGhBE,EAAGC,GACT,OAAO5G,KAAK0B,IAAIiF,EAAEpH,EAAIqH,EAAErH,EAAGoH,EAAEnH,EAAIoH,EAAEpH,EAAGmH,EAAElH,EAAImH,EAAEnH,K,oCAGlCoH,EAAMC,GAClB,OAAO9G,KAAK0B,IAAImF,EAAKtH,EAAIuH,EAAKvH,EAAGsH,EAAKrH,EAAIsH,EAAKtH,EAAGqH,EAAKpH,EAAIqH,EAAKrH,K,sCAGlDgF,EAAGgC,GACjB,OAAOzG,KAAK+G,QAAQtC,EAAGzE,KAAK0G,eAAeD,M,oCAG/BhC,GACZ,IAAI,IAAI1C,EAAI,EAAGA,GAAI,EAAGA,IAAK,CAAC,IAAD,EACL/B,KAAKgH,gBAAgBhH,KAAK0B,IAAI+C,EAAElF,EAAGkF,EAAEjF,EAAGiF,EAAEhF,GAAIsC,GAA1DxC,EADiB,EACjBA,EAAGC,EADc,EACdA,EAAGC,EADW,EACXA,EADW,EAERO,KAAKyB,WAAWzB,KAAK0B,IAAInC,EAAGC,EAAGC,IAAxCL,EAFiB,EAEjBA,EAAGC,EAFc,EAEdA,EACXW,KAAKY,QAAQZ,KAAKU,kBAAmBV,KAAKa,MAAMzB,EAAGC,GAAI,MAAO,M,mCAIrDwH,EAAMC,GAAO,IAAD,EACH9G,KAAKiH,cAAcJ,EAAMC,GAArCvH,EADe,EACfA,EAAGC,EADY,EACZA,EAAGC,EADS,EACTA,EACd,OAAQyC,KAAKoE,IAAI/G,GAAK2C,KAAKoE,IAAI9G,GAAK0C,KAAKoE,IAAI7G,IAAK,I,gCAG1CkH,EAAGC,EAAGM,GACd,OAAQP,GAAKC,EAAID,GAAKO,I,oCAGVL,EAAMC,EAAMI,GACxB,OAAOlH,KAAK0B,IAAI1B,KAAKmH,UAAUN,EAAKtH,EAAGuH,EAAKvH,EAAG2H,GAAIlH,KAAKmH,UAAUN,EAAKrH,EAAGsH,EAAKtH,EAAG0H,GAAIlH,KAAKmH,UAAUN,EAAKpH,EAAGqH,EAAKrH,EAAGyH,M,sCAGvGL,EAAMC,GAGpB,IAFA,IAAIM,EAAOpH,KAAKqH,aAAaR,EAAMC,GAC/BQ,EAAM,GACFvF,EAAI,EAAGA,GAAKqF,EAAMrF,IAAK,CAC7B,IAAID,EAAS9B,KAAKyB,WAAWzB,KAAKsF,UAAUtF,KAAKuH,cAAcV,EAAMC,EAAM,EAAMM,EAAOrF,KACxFuF,EAAM,GAAGhD,OAAOgD,EAAKxF,GAEvB9B,KAAKE,SAAS,CACZ0F,oBAAqB0B,M,8BAIjBhF,EAAUR,EAAQW,GACxB,IAAI+E,EAAKxH,KAAK2C,kBAAkBb,EAAQ,GACpC2F,EAAKzH,KAAK2C,kBAAkBb,EAAQ,GACpC4F,EAAK1H,KAAK2C,kBAAkBb,EAAQ,GACpC6F,EAAK3H,KAAK2C,kBAAkBb,EAAQ,GACpC8F,EAAK5H,KAAK2C,kBAAkBb,EAAQ,GACpC+F,EAAK7H,KAAK2C,kBAAkBb,EAAQ,GAClCT,EAAMiB,EAASpB,WAAW,MAChCG,EAAI0B,YACJ1B,EAAIyG,UAAYrF,EAChBpB,EAAI0G,YAAc,GAClB1G,EAAI2B,OAAOwE,EAAGpI,EAAGoI,EAAGnI,GACpBgC,EAAI6B,OAAOuE,EAAGrI,EAAGqI,EAAGpI,GACpBgC,EAAI6B,OAAOwE,EAAGtI,EAAGsI,EAAGrI,GACpBgC,EAAI6B,OAAOyE,EAAGvI,EAAGuI,EAAGtI,GACpBgC,EAAI6B,OAAO0E,EAAGxI,EAAGwI,EAAGvI,GACpBgC,EAAI6B,OAAO2E,EAAGzI,EAAGyI,EAAGxI,GACpBgC,EAAI+B,YACJ/B,EAAI2G,S,oCAGS,IAAD,SACqBhI,KAAKf,MAA7BK,EADG,EACHA,WAAYM,EADT,EACSA,SACZL,EAAWD,EAAXC,EAAGC,EAAQF,EAARE,EAAGC,EAAKH,EAALG,EACVG,EAAS2B,KAAK0C,UAAUjE,KAAK0B,IAAInC,EAAEC,EAAEC,MACpCO,KAAKE,SACD,CAACP,eAAiBK,KAAK0B,IAAInC,EAAEC,EAAEC,IAC/BO,KAAKuE,2BAA6B,kBAAK,EAAKC,mBAAmB,EAAKvF,MAAMU,oB,sCAKrE,IAAD,OACfK,KAAKf,MAAMS,UAAUuI,KAAI,SAAC3G,GAAO,IAAD,EACVC,KAAKC,MAAMF,GAAtB/B,EADqB,EACrBA,EAAGC,EADkB,EAClBA,EAAGC,EADe,EACfA,EADe,EAEb,EAAKgC,WAAW,EAAKC,IAAInC,EAAEC,EAAEC,IAArCL,EAFqB,EAErBA,EAAGC,EAFkB,EAElBA,EACV,EAAKuB,QAAQ,EAAKN,UAAW,EAAKO,MAAMzB,EAAEC,GAAGiC,EAAE,QAAQ,c,mCAK/CmD,GAET,IADA,IAAI6C,EAAM,GACFvF,EAAE,EAAEA,GAAG,EAAEA,IAAI,CAAC,IAAD,EACC/B,KAAKgH,gBAAgBhH,KAAK0B,IAAI+C,EAAElF,EAAEkF,EAAEjF,EAAEiF,EAAEhF,GAAIsC,GAAvDxC,EADU,EACVA,EAAGC,EADO,EACPA,EAAGC,EADI,EACJA,EACb6H,EAAInD,KAAKnE,KAAK0B,IAAInC,EAAEC,EAAEC,IAE1B,OAAO6H,I,yCAEQ3H,GAAgB,IAAD,OAE1BuI,EAAW,CAACvI,GACZC,EAAW,GAEf,IADAA,EAAS2B,KAAK0C,UAAUtE,IAAmB4B,KAAK0C,UAAUtE,GACjC,GAAnBuI,EAASC,QAAY,CACvB,IAAIC,EAAUF,EAASG,QACbrI,KAAKsI,aAAaF,GACxBH,KAAI,SAAC3G,IACD1B,EAAS2I,eAAehH,KAAK0C,UAAU3C,KAAK,EAAKrC,MAAMwE,WAAWS,SAAS3C,KAAK0C,UAAU3C,MAC1F4G,EAAS/D,KAAK7C,GACd1B,EAAS2B,KAAK0C,UAAU3C,IAAIC,KAAK0C,UAAUmE,OAIvDxI,EAAW4I,OAAOC,OAAO,GAAG7I,GAC5BI,KAAKE,SAAS,CACVN,SAAUA,M,8BAGV8C,EAAM0F,GAAS,IACZxI,EAAYI,KAAKf,MAAjBW,SAGP,GAFA8C,EAAQnB,KAAK0C,UAAUvB,QAEDgG,GAAnB9I,EADHwI,EAAU7G,KAAK0C,UAAUmE,IACO,CAE5B,IADA,IAAItI,EAAO,CAACsI,GACNA,GAAS1F,GACX0F,EAAUxI,EAASwI,GACnBtI,EAAKqE,KAAKiE,GAEdtI,EAAO,GAAGwE,OAAOxE,GACjBE,KAAKE,SAAS,CACVJ,KAAOA,O,iCAMf,IADA,IAAIA,EAAOE,KAAKf,MAAMa,KACdiC,EAAE,EAAEA,GAAGjC,EAAKqI,OAAO,EAAEpG,IAAI,CAAC,IAAD,EACfR,KAAKC,MAAM1B,EAAKiC,IAAvBxC,EADsB,EACtBA,EAAEC,EADoB,EACpBA,EADoB,EAEfQ,KAAKyB,WAAWzB,KAAK0B,IAAInC,EAAEC,IAAlCJ,EAFsB,EAEtBA,EAAEC,EAFoB,EAEpBA,EACTW,KAAKY,QAAQZ,KAAKU,kBAAmBV,KAAKa,MAAMzB,EAAEC,GAAG,EAAE,QAAQ,c,gCAG7DsJ,EAAMC,EAAMC,EAAIC,GACtB,IAAIzH,EAAMrB,KAAKS,WAAWS,WAAW,MAEjC6H,EAAQ7G,KAAK8G,MAAMF,EAAIF,EAAMC,EAAIF,GACrCtH,EAAI0B,YACJ1B,EAAI2B,OAAO2F,EAAOC,GAClBvH,EAAI6B,OAAO2F,EAAIC,GACfzH,EAAI4B,YAAa,UACjB5B,EAAIkB,UAAY,EAChBlB,EAAI8B,SACJ9B,EAAI0B,YACJ1B,EAAI2B,OAAO6F,EAAIC,GACfzH,EAAI0G,YAAc,GAClB1G,EAAI6B,OAAO2F,EAXG,EAWS3G,KAAKE,IAAI2G,EAAM7G,KAAKC,GAAG,GAAG2G,EAXnC,EAW+C5G,KAAKG,IAAI0G,EAAM7G,KAAKC,GAAG,IACpFd,EAAI6B,OAAO2F,EAZG,EAYS3G,KAAKE,IAAI2G,EAAM7G,KAAKC,GAAG,GAAG2G,EAZnC,EAY+C5G,KAAKG,IAAI0G,EAAM7G,KAAKC,GAAG,IACpFd,EAAI6B,OAAO2F,EAAKC,GAChBzH,EAAI6B,OAAO2F,EAdG,EAcS3G,KAAKE,IAAI2G,EAAM7G,KAAKC,GAAG,GAAG2G,EAdnC,EAc+C5G,KAAKG,IAAI0G,EAAM7G,KAAKC,GAAG,IACpFd,EAAI4B,YAAc,UAClB5B,EAAIkB,UAAY,EAChBlB,EAAI8B,SACJ9B,EAAIyG,UAAY,UAChBzG,EAAI2G,S,+BAEI,IAAD,OACP,OACE,yBAAKiB,UAAU,OACb,4BAAQC,IAAK,SAAA5I,GAAS,OAAI,EAAKA,UAAYA,KAC3C,4BAAQ4I,IAAK,SAAAC,GAAiB,OAAI,EAAKA,kBAAoBA,KAC3D,4BAAQD,IAAK,SAAAzI,GAAU,OAAI,EAAKA,WAAaA,KAC7C,4BAAQyI,IAAK,SAAAxI,GAAiB,OAAI,EAAKA,kBAAoBA,GAAmB0I,YAAepJ,KAAKlB,gBAChGuK,QAASrJ,KAAKhB,mB,GA3ZgBsK,IAAMC,WC9B/BC,MAdf,WACE,OACE,yBAAKP,UAAU,OACb,yBAAKA,UAAU,aACf,4BAAI,sEAEJ,sLACA,6BACA,kBAAC,EAAD,QCDcQ,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLhF,QAAQgF,MAAMA,EAAMC,c","file":"static/js/main.1a4f0ae3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, {Component} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './pathfinder.css';\r\n\r\nconst DUMMY_OBSTACLES = [\r\n'{\"q\":4,\"r\":-2,\"s\":-2}', '{\"q\":4,\"r\":-1,\"s\":-3}', '{\"q\":4,\"r\":0,\"s\":-4}', \r\n'{\"q\":4,\"r\":1,\"s\":-5}', '{\"q\":3,\"r\":2,\"s\":-5}', '{\"q\":2,\"r\":3,\"s\":-5}',\r\n '{\"q\":1,\"r\":4,\"s\":-5}', '{\"q\":0,\"r\":5,\"s\":-5}', '{\"q\":-1,\"r\":6,\"s\":-5}',\r\n  '{\"q\":-2,\"r\":7,\"s\":-5}', '{\"q\":4,\"r\":-4,\"s\":0}', '{\"q\":3,\"r\":-4,\"s\":1}',\r\n   '{\"q\":2,\"r\":-4,\"s\":2}', '{\"q\":1,\"r\":-4,\"s\":3}', '{\"q\":2,\"r\":-5,\"s\":3}', \r\n   '{\"q\":3,\"r\":-6,\"s\":3}', '{\"q\":4,\"r\":-7,\"s\":3}', '{\"q\":5,\"r\":-9,\"s\":4}', \r\n   '{\"q\":6,\"r\":-9,\"s\":3}', '{\"q\":7,\"r\":-9,\"s\":2}', '{\"q\":8,\"r\":-9,\"s\":1}', \r\n   '{\"q\":9,\"r\":-9,\"s\":0}', '{\"q\":10,\"r\":-9,\"s\":-1}', '{\"q\":11,\"r\":-9,\"s\":-2}',\r\n    '{\"q\":12,\"r\":-9,\"s\":-3}', '{\"q\":13,\"r\":-9,\"s\":-4}', '{\"q\":14,\"r\":-9,\"s\":-5}',\r\n     '{\"q\":15,\"r\":-9,\"s\":-6}', '{\"q\":15,\"r\":-8,\"s\":-7}', '{\"q\":14,\"r\":-7,\"s\":-7}',\r\n      '{\"q\":14,\"r\":-6,\"s\":-8}', '{\"q\":13,\"r\":-5,\"s\":-8}', '{\"q\":13,\"r\":-4,\"s\":-9}',\r\n       '{\"q\":12,\"r\":-3,\"s\":-9}', '{\"q\":12,\"r\":-2,\"s\":-10}', '{\"q\":11,\"r\":-1,\"s\":-10}',\r\n        '{\"q\":11,\"r\":0,\"s\":-11}', '{\"q\":10,\"r\":1,\"s\":-11}', '{\"q\":10,\"r\":2,\"s\":-12}',\r\n         '{\"q\":9,\"r\":3,\"s\":-12}', '{\"q\":9,\"r\":4,\"s\":-13}', '{\"q\":8,\"r\":5,\"s\":-13}', \r\n         '{\"q\":8,\"r\":6,\"s\":-14}', '{\"q\":7,\"r\":7,\"s\":-14}', '{\"q\":7,\"r\":8,\"s\":-15}', \r\n         '{\"q\":6,\"r\":9,\"s\":-15}', '{\"q\":5,\"r\":9,\"s\":-14}', '{\"q\":4,\"r\":9,\"s\":-13}', \r\n         '{\"q\":3,\"r\":9,\"s\":-12}', '{\"q\":2,\"r\":9,\"s\":-11}', '{\"q\":1,\"r\":9,\"s\":-10}',\r\n          '{\"q\":0,\"r\":9,\"s\":-9}', '{\"q\":-1,\"r\":9,\"s\":-8}', '{\"q\":-2,\"r\":9,\"s\":-7}', \r\n          '{\"q\":-3,\"r\":9,\"s\":-6}', '{\"q\":-4,\"r\":9,\"s\":-5}', '{\"q\":-5,\"r\":9,\"s\":-4}',\r\n           '{\"q\":-5,\"r\":8,\"s\":-3}', '{\"q\":-5,\"r\":7,\"s\":-2}', '{\"q\":-5,\"r\":6,\"s\":-1}',\r\n            '{\"q\":-5,\"r\":5,\"s\":0}', '{\"q\":-4,\"r\":4,\"s\":0}', '{\"q\":-3,\"r\":3,\"s\":0}',\r\n             '{\"q\":-2,\"r\":-1,\"s\":3}', '{\"q\":-2,\"r\":-2,\"s\":4}', '{\"q\":-4,\"r\":1,\"s\":3}',\r\n              '{\"q\":-4,\"r\":2,\"s\":2}', '{\"q\":-5,\"r\":3,\"s\":2}', '{\"q\":-7,\"r\":4,\"s\":3}',\r\n               '{\"q\":-6,\"r\":4,\"s\":2}', '{\"q\":-8,\"r\":4,\"s\":4}', '{\"q\":-9,\"r\":4,\"s\":5}', \r\n               '{\"q\":-10,\"r\":4,\"s\":6}', '{\"q\":-11,\"r\":4,\"s\":7}', '{\"q\":-12,\"r\":4,\"s\":8}',\r\n                '{\"q\":-12,\"r\":2,\"s\":10}', '{\"q\":-12,\"r\":3,\"s\":9}', '{\"q\":-13,\"r\":4,\"s\":9}',\r\n                 '{\"q\":-13,\"r\":5,\"s\":8}', '{\"q\":-14,\"r\":6,\"s\":8}', '{\"q\":-14,\"r\":7,\"s\":7}', \r\n                 '{\"q\":-15,\"r\":8,\"s\":7}', '{\"q\":-15,\"r\":9,\"s\":6}', '{\"q\":-14,\"r\":9,\"s\":5}',\r\n                  '{\"q\":-13,\"r\":9,\"s\":4}', '{\"q\":-12,\"r\":9,\"s\":3}', '{\"q\":-11,\"r\":9,\"s\":2}',\r\n                   '{\"q\":-10,\"r\":9,\"s\":1}', '{\"q\":-9,\"r\":9,\"s\":0}', '{\"q\":-8,\"r\":9,\"s\":-1}', \r\n                   '{\"q\":-7,\"r\":9,\"s\":-2}', '{\"q\":-6,\"r\":9,\"s\":-3}', '{\"q\":-11,\"r\":1,\"s\":10}',\r\n                    '{\"q\":-11,\"r\":0,\"s\":11}', '{\"q\":-10,\"r\":-1,\"s\":11}', '{\"q\":-10,\"r\":-2,\"s\":12}',\r\n                     '{\"q\":-9,\"r\":-3,\"s\":12}', '{\"q\":-9,\"r\":-4,\"s\":13}', '{\"q\":-8,\"r\":-5,\"s\":13}', \r\n                     '{\"q\":-8,\"r\":-6,\"s\":14}', '{\"q\":-7,\"r\":-7,\"s\":14}', '{\"q\":-7,\"r\":-8,\"s\":15}',\r\n                      '{\"q\":-6,\"r\":-9,\"s\":15}', '{\"q\":-5,\"r\":-9,\"s\":14}', '{\"q\":-4,\"r\":-9,\"s\":13}',\r\n                       '{\"q\":-3,\"r\":-9,\"s\":12}', '{\"q\":-2,\"r\":-9,\"s\":11}', '{\"q\":-1,\"r\":-9,\"s\":10}',\r\n                        '{\"q\":0,\"r\":-9,\"s\":9}', '{\"q\":1,\"r\":-9,\"s\":8}', '{\"q\":2,\"r\":-9,\"s\":7}',\r\n                         '{\"q\":3,\"r\":-9,\"s\":6}', '{\"q\":4,\"r\":-9,\"s\":5}', '{\"q\":-2,\"r\":-8,\"s\":10}',\r\n                          '{\"q\":-3,\"r\":-7,\"s\":10}', '{\"q\":-4,\"r\":-6,\"s\":10}', '{\"q\":-5,\"r\":-5,\"s\":10}',\r\n                           '{\"q\":-6,\"r\":-4,\"s\":10}', '{\"q\":-7,\"r\":-4,\"s\":11}', '{\"q\":-6,\"r\":-2,\"s\":8}',\r\n                            '{\"q\":-6,\"r\":-1,\"s\":7}', '{\"q\":-6,\"r\":0,\"s\":6}', '{\"q\":-6,\"r\":1,\"s\":5}',\r\n                             '{\"q\":7,\"r\":-2,\"s\":-5}', '{\"q\":8,\"r\":-2,\"s\":-6}', '{\"q\":9,\"r\":-3,\"s\":-6}',\r\n                              '{\"q\":10,\"r\":-3,\"s\":-7}', '{\"q\":4,\"r\":5,\"s\":-9}', '{\"q\":4,\"r\":6,\"s\":-10}',\r\n                               '{\"q\":5,\"r\":6,\"s\":-11}', '{\"q\":5,\"r\":7,\"s\":-12}'];\r\nexport default class Pathfinder extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleMouseMove = this.handleMouseMove.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.state = {\r\n      hexSize: 20,\r\n      hexOrigin: { x: 400, y: 300 },\r\n      currentHex: { q: 0, r: 0, s: 0, x: 0, y: 0 },\r\n      obstacles: DUMMY_OBSTACLES,\r\n      playerPosition: { q: 0, r: 0, s: 0},\r\n      cameFrom : {},\r\n      hexPath : [],\r\n      path : []\r\n    }\r\n\r\n  }\r\n\r\n  componentWillMount(){\r\n    let hexParametres = this.getHexParametres();\r\n    this.setState({\r\n      canvasSize: { canvasWidth: 800, canvasHeight: 600 },\r\n      hexParametres: hexParametres\r\n    })\r\n  }\r\n\r\n\r\n  componentDidMount(){\r\n    const { canvasWidth, canvasHeight } = this.state.canvasSize;\r\n    this.canvasHex.width = canvasWidth;\r\n    this.canvasHex.height = canvasHeight;\r\n    this.canvasView.width = canvasWidth;\r\n    this.canvasView.height = canvasHeight;\r\n    this.canvasInteraction.width = canvasWidth;\r\n    this.canvasInteraction.height = canvasHeight;\r\n    this.getCanvasPosition(this.canvasInteraction);\r\n    this.drawHex(this.canvasInteraction, this.Point(this.state.playerPosition.x,\r\n        this.state.playerPosition.y),1,\"black\",\"grey\",0.2);\r\n    this.drawHexes();\r\n    this.drawObstacles();\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if(nextState.currentHex !== this.state.currentHex) {\r\n      const { q, r, s, x, y } = nextState.currentHex;\r\n      const { canvasWidth, canvasHeight } = this.state.canvasSize;\r\n      const ctx = this.canvasInteraction.getContext(\"2d\");\r\n      ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n      this.drawPath();\r\n      return true;\r\n    }\r\n    if(nextState.cameFrom !== this.state.cameFrom) {\r\n        const { canvasWidth, canvasHeight } = this.state.canvasSize;\r\n        const ctx = this.canvasInteraction.getContext(\"2d\");\r\n        ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n        for(let l in nextState.cameFrom){\r\n            const {q, r, s} = JSON.parse(l);\r\n            const {x,y} = this.hexToPixel(this.Hex(q,r));\r\n            this.drawHex(this.canvasView, this.Point(x,y),1,\"black\",\"grey\",0.1);\r\n            var from = JSON.parse(nextState.cameFrom[l]);\r\n            var fromCoord = this.hexToPixel(this.Hex(from.q,from.r));\r\n            this.drawArrow(fromCoord.x,fromCoord.y,x,y);\r\n        }\r\n        return true;\r\n      }\r\n    return false;\r\n  }\r\n\r\n  getHexCornerCoord(center, i) {\r\n   let angle_deg = 60 * i  + 30;\r\n   let angle_rad = Math.PI / 180 * angle_deg;\r\n   let x = center.x + this.state.hexSize * Math.cos(angle_rad);\r\n   let y = center.y + this.state.hexSize * Math.sin(angle_rad);\r\n   return this.Point(x, y);\r\n }\r\n\r\n  Point(x, y) {\r\n   return {x: x, y: y}\r\n }\r\n\r\n drawHex(canvasID, center, lineWidth, lineColor, fillColor) {\r\n  for (let i = 0; i <= 5; i++) {\r\n    let start = this.getHexCornerCoord(center, i);\r\n    let end = this.getHexCornerCoord(center, i + 1);\r\n    this.fillHex(canvasID, center, fillColor);\r\n    this.drawLine(canvasID, start, end, lineWidth, lineColor);\r\n  }\r\n}\r\n\r\n\r\n drawLine(canvasID, start, end, lineWidth, lineColor) {\r\n     const ctx = canvasID.getContext(\"2d\");\r\n     ctx.beginPath();\r\n     ctx.moveTo(start.x, start.y);\r\n     ctx.strokeStyle = lineColor;\r\n     ctx.lineWidth = lineWidth;\r\n     ctx.lineTo(end.x, end.y);\r\n     ctx.stroke();\r\n     ctx.closePath();\r\n   }\r\n\r\n   drawHexes() {\r\n     const { canvasWidth, canvasHeight } = this.state.canvasSize;\r\n     const { hexWidth, hexHeight, vertDist, horizDist } = this.state.hexParametres;\r\n     const hexOrigin = this.state.hexOrigin;\r\n     var hexPathMap = [];\r\n     let qLeftSide = Math.round(hexOrigin.x/hexWidth) * 4;\r\n     let qRightSide = Math.round(canvasWidth - hexOrigin.x) / hexWidth * 2;\r\n     let rTopSide = Math.round(hexOrigin.y/(hexHeight/2));\r\n     let rBottomSide = Math.round((canvasHeight - hexOrigin.y)/(hexHeight/2));\r\n\r\n     var p = 0;\r\n     for(let r = 0; r <= rBottomSide; r++) {\r\n       if(r % 2 == 0 && r !== 0) {\r\n         p++;\r\n       }\r\n       for(let q = -qLeftSide; q <= qRightSide; q++) {\r\n         const { x, y } = this.hexToPixel(this.Hex(q-p, r))\r\n         if((x > hexWidth/2 && x < canvasWidth - hexWidth/2) && (y > hexHeight/2 && y < canvasHeight - hexHeight/2)) {\r\n           this.drawHex(this.canvasHex, this.Point(x,y), 1, \"black\", \"grey\");\r\n           //this.drawHexCoordinates(this.canvasHex, this.Point(x,y), this.Hex(q-p, r, - ( q - p) - r));\r\n            var bottomH = JSON.stringify(this.Hex(q-p,r,-(q-p)-r));\r\n            if(!this.state.obstacles.includes(bottomH)){\r\n                hexPathMap.push(bottomH)\r\n            }\r\n        }\r\n       }\r\n     }\r\n     var n = 0;\r\n     for(let r = -1; r >= -rTopSide; r--) {\r\n        if(r%2 !== 0) {\r\n          n++;\r\n        }\r\n        for(let q = -qLeftSide; q <= qRightSide; q++) {\r\n          const { x, y } = this.hexToPixel(this.Hex(q+n, r));\r\n          if((x > hexWidth/2 && x < canvasWidth - hexWidth/2) && (y > hexHeight/2 && y < canvasHeight - hexHeight/2)) {\r\n            this.drawHex(this.canvasHex, this.Point(x,y), 1, \"black\", \"grey\");\r\n            //this.drawHexCoordinates(this.canvasHex, this.Point(x,y), this.Hex(q+n, r, - (q + n) - r));\r\n            var topH = JSON.stringify(this.Hex(q+n,r,-(q+n)-r));\r\n            if(!this.state.obstacles.includes(topH)){\r\n                hexPathMap.push(topH)\r\n            }\r\n        }\r\n        }\r\n     }\r\n     hexPathMap = [].concat(hexPathMap);\r\n     this.setState(\r\n         {hexPathMap: hexPathMap},\r\n         this.breadthFirstSearchCallback = () => this.breadthFirstSearch(this.state.playerPosition)\r\n     )\r\n   }\r\n\r\n   hexToPixel(h){\r\n     let hexOrigin = this.state.hexOrigin;\r\n     let x = this.state.hexSize * Math.sqrt(3) * (h.q + h.r/2) + hexOrigin.x;\r\n     let y = this.state.hexSize * 3/2 * h.r + hexOrigin.y;\r\n     return this.Point(x, y)\r\n   }\r\n\r\nHex(q, r, s) {\r\n  return { q: q, r: r, s: s}\r\n}\r\n\r\ndrawHexCoordinates(canvasID, center, h) {\r\n  const ctx = canvasID.getContext(\"2d\");\r\n  ctx.fillText(h.q, center.x+6, center.y);\r\n  ctx.fillText(h.r, center.x-3, center.y+15);\r\n  ctx.fillText(h.s, center.x-12, center.y);\r\n\r\n}\r\n\r\ngetHexParametres() {\r\n  let hexHeight = this.state.hexSize * 2;\r\n  let hexWidth = Math.sqrt(3)/2 * hexHeight;\r\n  let vertDist = hexHeight * 3/4;\r\n  let horizDist = hexWidth;\r\n  return { hexWidth, hexHeight, vertDist, horizDist }\r\n}\r\n\r\nhandleMouseMove(e) {\r\n  const { left, right, top, bottom } = this.state.canvasPosition;\r\n  const { canvasWidth, canvasHeight } = this.state.canvasSize;\r\n  const { hexWidth, hexHeight, vertDist, horizDist } = this.state.hexParametres;\r\n  let offsetX = e.pageX - left;\r\n  let offsetY = e.pageY - top;\r\n  const { q, r, s } = this.cubeRound(this.pixelToHex(this.Point(offsetX, offsetY)));\r\n  const { x, y } = this.hexToPixel(this.Hex(q, r, s));\r\n  let playerPosition = this.state.playerPosition;\r\n  this.getDistanceLine(this.Hex(0,0,0), this.Hex(q,r,s));\r\n  this.getPath(this.Hex(playerPosition.q, playerPosition.r, playerPosition.s), this.Hex(q,r,s));\r\n  console.log(this.state.currentDistanceLine)\r\n  if((x > hexWidth / 2 && x < canvasWidth - hexWidth / 2) && (y > hexHeight / 2 && y < canvasHeight - hexHeight/2)){\r\n    this.setState({\r\n      currentHex: { q, r, s, x, y }\r\n    })\r\n  }\r\n\r\n\r\n}\r\n\r\ngetCanvasPosition(canvasID) {\r\n  let rect = canvasID.getBoundingClientRect();\r\n  this.setState({\r\n    canvasPosition: { left: rect.left, right: rect.right, top: rect.top, bottom: rect.bottom }\r\n  })\r\n}\r\n\r\npixelToHex(p) {\r\n  let size = this.state.hexSize;\r\n  let origin = this.state.hexOrigin;\r\n  let q = ((p.x - origin.x) * Math.sqrt(3)/3 - (p.y - origin.y) / 3) / size\r\n  let r = (p.y - origin.y) * 2/3 / size\r\n  return this.Hex(q, r, - q - r);\r\n}\r\n\r\ncubeRound(cube) {\r\n  var rx = Math.round(cube.q)\r\n  var ry = Math.round(cube.r)\r\n  var rz = Math.round(cube.s)\r\n\r\n  var x_diff = Math.abs(rx - cube.q)\r\n  var y_diff = Math.abs(ry - cube.r)\r\n  var z_diff = Math.abs(rz - cube.s)\r\n\r\n  if(x_diff > y_diff && x_diff > z_diff) {\r\n    rx = -ry-rz\r\n  }\r\n  else if(y_diff > z_diff) {\r\n    ry = -rx-rz\r\n  }\r\n  else{\r\n    rz = -rx-ry\r\n  }\r\n  return this.Hex(rx, ry, rz);\r\n}\r\n\r\ncubeDirections(direction) {\r\n  const cubeDirections = [this.Hex(1, 0, -1), this.Hex(1, -1, 0), this.Hex(0, -1, 1), this.Hex(-1, 0, 1), this.Hex(-1, 1, 0),\r\n  this.Hex(0, 1, -1)];\r\n  return cubeDirections[direction];\r\n}\r\n\r\ncubeAdd(a, b) {\r\n  return this.Hex(a.q + b.q, a.r + b.r, a.s + b.s);\r\n}\r\n\r\ncubeSubstract(hexA, hexB) {\r\n  return this.Hex(hexA.q - hexB.q, hexA.r - hexB.r, hexA.s - hexB.s);\r\n}\r\n\r\ngetCubeNeighbor(h, direction) {\r\n  return this.cubeAdd(h, this.cubeDirections(direction));\r\n}\r\n\r\ndrawNeighbors(h) {\r\n  for(let i = 0; i <=5; i++) {\r\n    const { q, r, s } = this.getCubeNeighbor(this.Hex(h.q, h.r, h.s), i);\r\n    const { x, y } = this.hexToPixel(this.Hex(q, r, s));\r\n    this.drawHex(this.canvasInteraction, this.Point(x, y), \"red\", 2);\r\n  }\r\n}\r\n\r\ncubeDistance(hexA, hexB) {\r\n  const { q, r, s } = this.cubeSubstract(hexA, hexB);\r\n  return (Math.abs(q) + Math.abs(r) + Math.abs(s)) /2;\r\n}\r\n\r\nlinearInt(a, b, t) {\r\n  return (a + (b - a) * t)\r\n}\r\n\r\ncubeLinearInt(hexA, hexB, t) {\r\n  return this.Hex(this.linearInt(hexA.q, hexB.q, t), this.linearInt(hexA.r, hexB.r, t), this.linearInt(hexA.s, hexB.s, t));\r\n}\r\n\r\ngetDistanceLine(hexA, hexB) {\r\n  let dist = this.cubeDistance(hexA, hexB);\r\n  var arr = [];\r\n  for(let i = 0; i <= dist; i++) {\r\n    let center = this.hexToPixel(this.cubeRound(this.cubeLinearInt(hexA, hexB, 1.0 / dist * i)));\r\n    arr = [].concat(arr, center);\r\n  }\r\n  this.setState({\r\n    currentDistanceLine: arr\r\n  })\r\n}\r\n\r\nfillHex(canvasID, center, fillColor) {\r\n  let c0 = this.getHexCornerCoord(center, 0);\r\n  let c1 = this.getHexCornerCoord(center, 1);\r\n  let c2 = this.getHexCornerCoord(center, 2);\r\n  let c3 = this.getHexCornerCoord(center, 3);\r\n  let c4 = this.getHexCornerCoord(center, 4);\r\n  let c5 = this.getHexCornerCoord(center, 5);\r\n  const ctx = canvasID.getContext(\"2d\");\r\n  ctx.beginPath();\r\n  ctx.fillStyle = fillColor;\r\n  ctx.globalAlpha = 0.1;\r\n  ctx.moveTo(c0.x, c0.y);\r\n  ctx.lineTo(c1.x, c1.y);\r\n  ctx.lineTo(c2.x, c2.y);\r\n  ctx.lineTo(c3.x, c3.y);\r\n  ctx.lineTo(c4.x, c4.y);\r\n  ctx.lineTo(c5.x, c5.y);\r\n  ctx.closePath();\r\n  ctx.fill();\r\n}\r\n\r\nhandleClick() {\r\n    const {currentHex, cameFrom} = this.state;\r\n    const {q, r, s} = currentHex;\r\n    if(cameFrom[JSON.stringify(this.Hex(q,r,s))]){\r\n        this.setState(\r\n            {playerPosition : this.Hex(q,r,s)},\r\n            this.breadthFirstSearchCallback = ()=> this.breadthFirstSearch(this.state.playerPosition)\r\n        )\r\n    }\r\n}\r\n\r\ndrawObstacles() {\r\n this.state.obstacles.map((l) => {\r\n     const {q, r, s} = JSON.parse(l);\r\n     const {x, y} = this.hexToPixel(this.Hex(q,r,s));\r\n     this.drawHex(this.canvasHex, this.Point(x,y),l,\"black\",\"black\");\r\n })\r\n}\r\n\r\n\r\ngetNeighbors(h){\r\n    var arr = [];\r\n    for(let i=0;i<=5;i++){\r\n        const {q, r, s} = this.getCubeNeighbor(this.Hex(h.q,h.r,h.s), i);\r\n        arr.push(this.Hex(q,r,s));\r\n    }\r\n    return arr;\r\n}\r\nbreadthFirstSearch(playerPosition){\r\n\r\n    var frontier = [playerPosition];\r\n    var cameFrom = {};\r\n    cameFrom[JSON.stringify(playerPosition)] = JSON.stringify(playerPosition);\r\n    while(frontier.length != 0){\r\n        var current = frontier.shift();\r\n        let arr = this.getNeighbors(current);\r\n        arr.map((l)=>{\r\n            if(!cameFrom.hasOwnProperty(JSON.stringify(l))&&this.state.hexPathMap.includes(JSON.stringify(l))){\r\n                frontier.push(l);\r\n                cameFrom[JSON.stringify(l)]=JSON.stringify(current);\r\n            }\r\n        })\r\n    }\r\n    cameFrom = Object.assign({},cameFrom);\r\n    this.setState({\r\n        cameFrom: cameFrom\r\n    })\r\n}\r\ngetPath(start,current){\r\n    const {cameFrom} = this.state;\r\n    start = JSON.stringify(start);\r\n    current = JSON.stringify(current);\r\n    if(cameFrom[current]!=undefined){\r\n        var path = [current];\r\n        while(current!=start){\r\n            current = cameFrom[current];\r\n            path.push(current);\r\n        }\r\n        path = [].concat(path);\r\n        this.setState({\r\n            path : path\r\n        })\r\n    }\r\n}\r\ndrawPath(){\r\n    let path = this.state.path;\r\n    for(let i=0;i<=path.length-1;i++){\r\n        const {q,r} = JSON.parse(path[i]);\r\n        const {x,y} = this.hexToPixel(this.Hex(q,r));\r\n        this.drawHex(this.canvasInteraction, this.Point(x,y),1,\"black\",\"#05b9f5\");\r\n    }\r\n}\r\ndrawArrow(fromx,fromy,tox,toy){\r\n    var ctx = this.canvasView.getContext(\"2d\");\r\n    var headlen = 5;\r\n    var angle = Math.atan2(toy-fromy,tox-fromx);\r\n    ctx.beginPath();\r\n    ctx.moveTo(fromx, fromy);\r\n    ctx.lineTo(tox,toy);\r\n    ctx.strokeStyle= \"#05b9f5\";\r\n    ctx.lineWidth = 3;\r\n    ctx.stroke();\r\n    ctx.beginPath();\r\n    ctx.moveTo(tox,toy);\r\n    ctx.globalAlpha = 0.3;\r\n    ctx.lineTo(tox-headlen*Math.cos(angle-Math.PI/7),toy-headlen*Math.sin(angle-Math.PI/7));\r\n    ctx.lineTo(tox-headlen*Math.cos(angle-Math.PI/7),toy-headlen*Math.sin(angle-Math.PI/7));\r\n    ctx.lineTo(tox, toy);\r\n    ctx.lineTo(tox-headlen*Math.cos(angle-Math.PI/7),toy-headlen*Math.sin(angle-Math.PI/7));\r\n    ctx.strokeStyle = \"#05b9f5\";\r\n    ctx.lineWidth = 5;\r\n    ctx.stroke();\r\n    ctx.fillStyle = \"#05b9f5\";\r\n    ctx.fill();\r\n}\r\n  render() {\r\n    return (\r\n      <div className=\"BFS\">\r\n        <canvas ref={canvasHex => this.canvasHex = canvasHex }></canvas>\r\n        <canvas ref={canvasCoordinates => this.canvasCoordinates = canvasCoordinates }></canvas>\r\n        <canvas ref={canvasView => this.canvasView = canvasView }></canvas>\r\n        <canvas ref={canvasInteraction => this.canvasInteraction = canvasInteraction} onMouseMove = {this.handleMouseMove}\r\n          onClick={this.handleClick}></canvas>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Pathfinder from './pathfinder/pathfinder'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className='container'>\n      <h1><span>Breadth-first Real-time Pathfinder</span></h1>\n      </div>\n      <h3>Navigate your way with the mouse around the obstacles to find the shortest path in real-time and click on any hexagon to change the starting position.</h3>\n      <br></br>\n      <Pathfinder></Pathfinder>\n      \n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}